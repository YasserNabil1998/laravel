<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุณุงุนุฏ ุงูุฐูุงุก ุงูุงุตุทูุงุนู - ููุงุฐ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <div class="logo-section">
                        <div class="logo">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="logo-text">
                            <h1>ููุงุฐ</h1>
                            <p>ุงูููุงุฐ ุงููุทูู ุงูููุญุฏ</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 text-end">
                    <a href="index.html" class="btn btn-outline-primary">
                        <i class="fas fa-arrow-right"></i>
                        ุงูุนูุฏุฉ ูุชุณุฌูู ุงูุฏุฎูู
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="main-container">
        <div class="ai-page-container">
            <!-- AI Header Section -->
            <div class="ai-page-header">
                <div class="ai-brand">
                    <div class="ai-logo-large">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="ai-title">
                        <h1>ูุณุงุนุฏ ุงูุฐูุงุก ุงูุงุตุทูุงุนู</h1>
                        <p>ุงุณุฃู ุฃู ุณุคุงู ุฃู ุงุฑูุน ุตูุฑุฉ ููุญุตูู ุนูู ูุณุงุนุฏุฉ ุฐููุฉ</p>
                    </div>
                </div>
            </div>

            <!-- AI Chat Section -->
            <div class="ai-chat-page">
                <div class="chat-container">
                    <div class="chat-header">
                        <div class="chat-info">
                            <div class="ai-avatar-large">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div>
                                <h3>ุงููุณุงุนุฏ ุงูุฐูู</h3>
                                <span class="status online">ูุชุตู ุงูุขู</span>
                            </div>
                        </div>
                    </div>

                    <div class="chat-messages" id="chatMessages">
                        <div class="ai-message-large">
                            <div class="ai-avatar-large">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="ai-text-large">
                                <h4>ูุฑุญุจุงู! ุฃูุง ูุณุงุนุฏู ุงูุฐูู ๐ค</h4>
                                <p>ุฃูุง ููุง ููุณุงุนุฏุชู ูู ุฌููุน ุงูููุงุถูุน ุงูุฏุฑุงุณูุฉ. ููู ูููููู ูุณุงุนุฏุชู ุงููููุ</p>
                            </div>
                        </div>
                    </div>

                    <div class="chat-input-section">
                        <div class="input-toolbar">
                            <button class="toolbar-btn" onclick="document.getElementById('imageUpload').click()" title="ุฑูุน ุตูุฑุฉ">
                                <i class="fas fa-image"></i>
                            </button>
                            <button class="toolbar-btn" onclick="startVoiceInput()" title="ุงูุชุณุฌูู ุงูุตูุชู">
                                <i class="fas fa-microphone"></i>
                            </button>
                            <button class="toolbar-btn" onclick="showQuickQuestions()" title="ุฃุณุฆูุฉ ุณุฑูุนุฉ">
                                <i class="fas fa-lightning-bolt"></i>
                            </button>
                        </div>
                        
                        <div class="input-group-large">
                            <textarea 
                                id="messageInput" 
                                class="message-input" 
                                placeholder="ุงูุชุจ ุณุคุงูู ููุง... (ุงุถุบุท Enter ููุฅุฑุณุงู)"
                                rows="3"
                            ></textarea>
                            <button class="send-btn-large" onclick="sendMessage()">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                        
                        <input type="file" id="imageUpload" accept="image/*" style="display: none;" onchange="handleImageUpload(event)">
                        
                        <!-- Image Preview -->
                        <div id="imagePreview" class="image-preview" style="display: none;">
                            <div class="preview-container">
                                <img id="previewImg" src="" alt="ูุนุงููุฉ ุงูุตูุฑุฉ">
                                <button class="remove-image-btn" onclick="removeImage()">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <p class="preview-text">ุชู ุงุฎุชูุงุฑ ุงูุตูุฑุฉ. ููููู ุงูุขู ุฅุถุงูุฉ ุณุคุงู ุฃู ุฅุฑุณุงู ุงูุตูุฑุฉ ูุจุงุดุฑุฉ.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            const hasImage = window.currentImageFile;
            
            if (!message && !hasImage) {
                alert('ูุฑุฌู ูุชุงุจุฉ ุฑุณุงูุฉ ุฃู ุฑูุน ุตูุฑุฉ');
                return;
            }

            // Add user message with image if available
            if (hasImage) {
                addUserMessageWithImage(message || 'ุชู ุฑูุน ุตูุฑุฉ ููุญุตูู ุนูู ูุณุงุนุฏุฉ', hasImage);
                removeImage(); // Clear the image after sending
            } else {
                addUserMessage(message);
            }
            
            input.value = '';
            showLoading();

            // Simulate AI response based on content
            setTimeout(() => {
                hideLoading();
                if (hasImage) {
                    addAIMessage('ุชู ุชุญููู ุงูุตูุฑุฉ ุจูุฌุงุญ! ูููููู ูุณุงุนุฏุชู ูู ููู ุงููุญุชูู ุฃู ุญู ุงููุณุงุฆู ุงูููุฌูุฏุฉ ูู ุงูุตูุฑุฉ. ูู ุชุฑูุฏ ููู ุดุฑุญ ุฃู ุฌุฒุก ูุญุฏุฏุ');
                } else {
                    addAIMessage(getAIResponse(message));
                }
            }, 2000);
        }

        function addUserMessage(text) {
            const container = document.getElementById('chatMessages');
            const div = document.createElement('div');
            div.className = 'user-message-large';
            div.innerHTML = `
                <div class="user-text-large">
                    <p>${text}</p>
                </div>
                <div class="user-avatar-large">
                    <i class="fas fa-user"></i>
                </div>
            `;
            container.appendChild(div);
            scrollToBottom();
        }

        function addAIMessage(text) {
            const container = document.getElementById('chatMessages');
            const div = document.createElement('div');
            div.className = 'ai-message-large';
            div.innerHTML = `
                <div class="ai-avatar-large">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="ai-text-large">
                    <p>${text}</p>
                </div>
            `;
            container.appendChild(div);
            scrollToBottom();
        }

        function addUserMessageWithImage(text, file) {
            const container = document.getElementById('chatMessages');
            const div = document.createElement('div');
            div.className = 'user-message-large';
            
            const reader = new FileReader();
            reader.onload = function(e) {
                div.innerHTML = `
                    <div class="user-text-large">
                        <p>${text}</p>
                        <div class="message-image">
                            <img src="${e.target.result}" alt="ุตูุฑุฉ ูุฑููุนุฉ" style="max-width: 200px; max-height: 150px; border-radius: 8px; margin-top: 10px;">
                        </div>
                    </div>
                    <div class="user-avatar-large">
                        <i class="fas fa-user"></i>
                    </div>
                `;
            };
            reader.readAsDataURL(file);
            
            container.appendChild(div);
            scrollToBottom();
        }

        function getAIResponse(question) {
            const responses = {
                'ุฑูุงุถูุงุช': 'ูู ุงูุฑูุงุถูุงุชุ ูููููู ูุณุงุนุฏุชู ูู ุญู ุงููุนุงุฏูุงุช ูุงููุณุงุฆู ุงูุญุณุงุจูุฉ. ูุง ูู ุงูุณุคุงู ุงููุญุฏุฏ ุงูุฐู ุชุฑูุฏ ูุณุงุนุฏุฉ ูููุ',
                'ุนููู': 'ูู ุงูุนูููุ ูููููู ุดุฑุญ ุงูููุงููู ุงูุนูููุฉ ูุงูุธูุงูุฑ ุงูุทุจูุนูุฉ. ูุง ูู ุงูููุถูุน ุงูุฐู ุชุฑูุฏ ููููุ',
                'ูุบุฉ': 'ูู ุงููุบุฉ ุงูุนุฑุจูุฉุ ูููููู ูุณุงุนุฏุชู ูู ุงููุญู ูุงูุตุฑู ูุงูุจูุงุบุฉ. ูุง ูู ุงูุณุคุงู ุงููุบูู ุงูุฐู ูุฏููุ',
                'ุงุฎุชุจุงุฑ': 'ุฃุณุชุทูุน ูุณุงุนุฏุชู ูู ุงูุชุญุถูุฑ ููุงุฎุชุจุงุฑุงุช ูู ุฎูุงู ุดุฑุญ ุงูููุงููู ูุญู ุงููุณุงุฆู ุงูุชุฏุฑูุจูุฉ. ูุง ูู ุงูุงุฎุชุจุงุฑ ุงูุฐู ุชุชุญุถุฑ ููุ',
                'ูุนุงุฏูุฉ': 'ูุญู ุงููุนุงุฏูุฉุ ูุญุชุงุฌ ุฃููุงู ูุชุญุฏูุฏ ููุนูุง. ูู ูู ูุนุงุฏูุฉ ูู ุงูุฏุฑุฌุฉ ุงูุฃููู ุฃู ุงูุซุงููุฉุ ูููููู ูุณุงุนุฏุชู ุฎุทูุฉ ุจุฎุทูุฉ.',
                'ูููุชู': 'ูุงููู ูููุชู ุงูุฃูู ููุต ุนูู ุฃู ุงูุฌุณู ุงูุณุงูู ูุจูู ุณุงููุงู ูุงูุฌุณู ุงููุชุญุฑู ุจุณุฑุนุฉ ุซุงุจุชุฉ ูุจูู ูุชุญุฑูุงู ุจููุณ ุงูุณุฑุนุฉ ูุง ูู ุชุคุซุฑ ุนููู ููุฉ ุฎุงุฑุฌูุฉ.',
                'ููุงู': 'ุฃุฌุฒุงุก ุงูููุงู ูู ุงููุบุฉ ุงูุนุฑุจูุฉ ูู: ุงูุงุณูุ ุงููุนูุ ุงูุญุฑู. ูู ุฌุฒุก ูู ุฎุตุงุฆุตู ูููุงุนุฏู ุงูุฎุงุตุฉ.',
                'ูุฏุฑุงุช': 'ููุชุญุถูุฑ ูุงุฎุชุจุงุฑ ุงููุฏุฑุงุชุ ุฑูุฒ ุนูู: ุงูููู ุงููุฑุงุฆูุ ุงูุงุณุชูุชุงุฌ ุงูููุทููุ ุญู ุงููุณุงุฆู ุงูุฑูุงุถูุฉุ ูุงูุชุญููู ุงูููุงูู.'
            };

            const lowerQuestion = question.toLowerCase();
            
            if (lowerQuestion.includes('ุฑูุงุถูุงุช') || lowerQuestion.includes('ุฑูุงุถู') || lowerQuestion.includes('ูุนุงุฏูุฉ')) {
                return responses['ูุนุงุฏูุฉ'];
            } else if (lowerQuestion.includes('ุนููู') || lowerQuestion.includes('ุนููู') || lowerQuestion.includes('ูููุชู')) {
                return responses['ูููุชู'];
            } else if (lowerQuestion.includes('ูุบุฉ') || lowerQuestion.includes('ุนุฑุจู') || lowerQuestion.includes('ููุงู')) {
                return responses['ููุงู'];
            } else if (lowerQuestion.includes('ุงุฎุชุจุงุฑ') || lowerQuestion.includes('ุงูุชุญุงู') || lowerQuestion.includes('ูุฏุฑุงุช')) {
                return responses['ูุฏุฑุงุช'];
            } else {
                return 'ุดูุฑุงู ูุณุคุงูู! ูููููู ูุณุงุนุฏุชู ูู ูุฌููุนุฉ ูุงุณุนุฉ ูู ุงูููุงุถูุน. ูู ููููู ุชุญุฏูุฏ ุงูููุถูุน ุงูุฐู ุชุฑูุฏ ูุณุงุนุฏุฉ ูููุ';
            }
        }

        function showLoading() {
            const container = document.getElementById('chatMessages');
            const div = document.createElement('div');
            div.className = 'ai-message-large';
            div.id = 'aiLoading';
            div.innerHTML = `
                <div class="ai-avatar-large">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="ai-loading-large">
                    <div class="spinner-large"></div>
                    <span>ุฌุงุฑู ุงูุชูููุฑ...</span>
                </div>
            `;
            container.appendChild(div);
            scrollToBottom();
        }

        function hideLoading() {
            const loading = document.getElementById('aiLoading');
            if (loading) loading.remove();
        }

        function scrollToBottom() {
            const container = document.getElementById('chatMessages');
            container.scrollTop = container.scrollHeight;
        }

        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (!file) return;

            if (!file.type.startsWith('image/')) {
                alert('ูุฑุฌู ุงุฎุชูุงุฑ ููู ุตูุฑุฉ ุตุญูุญ');
                return;
            }

            // Show image preview
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('previewImg').src = e.target.result;
                document.getElementById('imagePreview').style.display = 'block';
            };
            reader.readAsDataURL(file);

            // Store file for later use
            window.currentImageFile = file;
        }

        function removeImage() {
            document.getElementById('imagePreview').style.display = 'none';
            document.getElementById('imageUpload').value = '';
            window.currentImageFile = null;
        }

        function startVoiceInput() {
            alert('ููุฒุฉ ุงูุชุณุฌูู ุงูุตูุชู ุณุชููู ูุชุงุญุฉ ูุฑูุจุงู!');
        }

        function showQuickQuestions() {
            alert('ููุฒุฉ ุงูุฃุณุฆูุฉ ุงูุณุฑูุนุฉ ุณุชููู ูุชุงุญุฉ ูุฑูุจุงู!');
        }

        document.getElementById('messageInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });
    </script>
</body>
</html>
