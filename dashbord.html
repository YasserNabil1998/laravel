<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة الطالب</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <style>
        .topbar { background:#fff; border:1px solid #e9ecef; border-radius:12px; padding:10px 14px; display:flex; align-items:center; justify-content:space-between; }
        .tabs { display:flex; gap:8px; }
        .tab-btn { background:#fff; border:1px solid #e9ecef; color:#6c757d; padding:10px 16px; border-radius:10px; font-weight:700; cursor:pointer; }
        .tab-btn.active { color:#20c997; border-color:#20c997; background:#f8fafc; }
        .filters { display:flex; gap:12px; align-items:center; }
        .filter { border:1px solid #e9ecef; border-radius:8px; padding:6px 10px; background:#fff; color:#6c757d; }
        .cards { display:grid; grid-template-columns: repeat(3, 1fr); gap:16px; margin-top:16px; }
        .card-test { background:#fff; border:1px solid #e9ecef; border-radius:14px; box-shadow:0 10px 30px rgba(0,0,0,.06); padding:16px; }
        .badge-state { font-size:12px; padding:4px 8px; border-radius:6px; font-weight:700; }
        .badge-open { background:#d1fae5; color:#065f46; }
        .badge-late { background:#fde68a; color:#92400e; }
        .btn-register { background:#20c997; color:#fff; border:none; padding:10px 16px; border-radius:10px; font-weight:800; width:100%; }
        .btn-register:disabled { background:#94a3b8; }
        .panel { background:#fff; border:1px solid #e9ecef; border-radius:14px; padding:16px; }
        .two-panels { display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-top:18px; }
        @media(max-width:992px){ .cards{grid-template-columns: 1fr;} .two-panels{grid-template-columns:1fr;} }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <div class="logo-section">
                        <div class="logo"><i class="fas fa-shield-alt"></i></div>
                        <div class="logo-text">
                            <h1>نفاذ</h1>
                            <p>لوحة الطالب</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 text-end">
                    <a href="profile.html" class="language-btn"><i class="fas fa-user"></i> الملف الشخصي</a>
                </div>
            </div>
        </div>
    </header>

    <div class="main-container">
        <div class="topbar">
            <div class="tabs" id="tabs">
                <button class="tab-btn active" data-tab="tab-available">الاختبارات المتاحة للتسجيل</button>
                <button class="tab-btn" data-tab="tab-registered">الاختبارات المسجلة</button>
                <button class="tab-btn" data-tab="tab-results">النتائج</button>
            </div>
            <div class="filters">
                <select class="filter" id="placeFilter">
                    <option>مكان عقد الاختبار: داخل المملكة</option>
                    <option>خارج المملكة</option>
                </select>
                <select class="filter" id="typeFilter">
                    <option>نوع الاختبار: الكل</option>
                    <option>قدرات</option>
                    <option>تحصيلي</option>
                    <option>لغة إنجليزية</option>
                </select>
            </div>
        </div>

        <!-- Available -->
        <section id="tab-available" class="tab-section" style="display:block;">
            <!-- Filters -->
            <div class="filters-section mb-4">
                <div class="row g-3">
                    <div class="col-md-3">
                        <label class="form-label">فلترة حسب المادة</label>
                        <select class="form-select" id="examSubjectFilter" onchange="filterExams()">
                            <option value="">جميع المواد</option>
                            <option value="english">اللغة الإنجليزية</option>
                            <option value="arabic">اللغة العربية</option>
                            <option value="math">الرياضيات</option>
                            <option value="science">العلوم</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">فلترة حسب الصعوبة</label>
                        <select class="form-select" id="examDifficultyFilter" onchange="filterExams()">
                            <option value="">جميع المستويات</option>
                            <option value="easy">سهل ⭐</option>
                            <option value="medium">متوسط ⭐⭐</option>
                            <option value="hard">صعب ⭐⭐⭐</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">فلترة حسب المدة</label>
                        <select class="form-select" id="examDurationFilter" onchange="filterExams()">
                            <option value="">جميع المدد</option>
                            <option value="30">30 دقيقة</option>
                            <option value="60">60 دقيقة</option>
                            <option value="90">90 دقيقة</option>
                            <option value="120">120 دقيقة</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">فلترة حسب الحالة</label>
                        <select class="form-select" id="examStatusFilter" onchange="filterExams()">
                            <option value="">جميع الحالات</option>
                            <option value="open">تسجيل مفتوح</option>
                            <option value="late">تسجيل متأخر</option>
                            <option value="closed">تسجيل مغلق</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="cards">
                <div class="card-test" data-subject="english" data-difficulty="easy" data-duration="30" data-status="open">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <strong>اختبار تحديد مستوى اللغة الإنجليزية - رجال</strong>
                        <span class="badge-state badge-open">تسجيل مفتوح</span>
                    </div>
                    <div class="small text-muted mb-2">لغة الاختبار: إنجليزي · آلية الاختبار: محوسب · المستوى: <span class="badge bg-success">سهل ⭐</span></div>
                    <button class="btn-register">
                        <a href="exam.html" style="color: #fff !important; text-decoration: none;">تسجيل</a>
                    </button>
                </div>
                <div class="card-test" data-subject="english" data-difficulty="medium" data-duration="60" data-status="open">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <strong>اختبار كفايات اللغة الإنجليزية (STEP) - رجال</strong>
                        <span class="badge-state badge-open">تسجيل مفتوح</span>
                    </div>
                    <div class="small text-muted mb-2">لغة الاختبار: إنجليزي · آلية الاختبار: محوسب · المستوى: <span class="badge bg-warning">متوسط ⭐⭐</span></div>
                    <button class="btn-register">تسجيل</button>
                </div>
                <div class="card-test" data-subject="arabic" data-difficulty="hard" data-duration="90" data-status="late">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <strong>اختبار القدرة المعرفية - رجال</strong>
                        <span class="badge-state badge-late">تسجيل متأخر</span>
                    </div>
                    <div class="small text-muted mb-2">لغة الاختبار: عربي · آلية الاختبار: ورقي · المستوى: <span class="badge bg-danger">صعب ⭐⭐⭐</span></div>
                    <button class="btn-register">تسجيل</button>
                </div>
                <div class="card-test" data-subject="math" data-difficulty="medium" data-duration="120" data-status="open">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <strong>اختبار القدرات العامة للتخصصات العلمية - طلاب</strong>
                        <span class="badge-state badge-open">تسجيل مفتوح</span>
                    </div>
                    <div class="small text-muted mb-2">لغة الاختبار: عربي · آلية الاختبار: محوسب · المستوى: <span class="badge bg-warning">متوسط ⭐⭐</span></div>
                    <button class="btn-register">تسجيل</button>
                </div>
            </div>

            <div class="two-panels">
                <div class="panel">
                    <h6 class="mb-3">الرصيد الحالي</h6>
                    <div class="d-flex align-items-center gap-3">
                        <div class="fs-3 fw-bold text-success">185 ريال</div>
                        <a href="#" class="btn btn-sm btn-outline-success">إضافة رصيد</a>
                    </div>
                </div>
                <div class="panel">
                    <h6 class="mb-3">تحويل الرصيد</h6>
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="أدخل رقم المستفيد">
                        <button class="btn btn-success">تحويل</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Registered -->
        <section id="tab-registered" class="tab-section" style="display:none;">
            <div class="panel">
                <h6 class="mb-3">الاختبارات المسجلة</h6>
                <div class="alert alert-info">لا توجد اختبارات مسجلة حالياً.</div>
            </div>
        </section>

        <!-- Results -->
        <section id="tab-results" class="tab-section" style="display:none;">
            <div class="panel">
                <h6 class="mb-3">النتائج</h6>
                <div class="table-responsive">
                    <table class="table table-bordered align-middle">
                        <thead><tr><th>الاختبار</th><th>التاريخ</th><th>النتيجة</th><th>إجراء</th></tr></thead>
                        <tbody>
                            <tr><td>اختبار القدرات العامة</td><td>2025-02-14</td><td>92</td><td><a href="results-analysis.html" class="btn btn-sm btn-outline-success">تحليل النتائج</a></td></tr>
                            <tr><td>STEP كفايات الإنجليزية</td><td>2024-11-02</td><td>78</td><td><a href="results-analysis.html" class="btn btn-sm btn-outline-success">تحليل النتائج</a></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <div class="footer-section">
                        <h5><i class="fas fa-globe"></i> الدعم الفني</h5>
                        <p>للتواصل: 19925</p>
                        <p>support.etec.gov.sa</p>
                        <a href="#">سياسة الاستخدام الآمن و الخصوصية</a>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="footer-section">
                        <h5>روابط مهمة</h5>
                        <p><a href="reg.html">التسجيل</a></p>
                        <p><a href="#">الأسئلة الشائعة</a></p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="footer-section">
                        <h5>تابعنا</h5>
                        <div class="social-links">
                            <a href="#"><i class="fab fa-youtube"></i></a>
                            <a href="#"><i class="fab fa-facebook"></i></a>
                            <a href="#"><i class="fab fa-twitter"></i></a>
                            <a href="#"><i class="fab fa-instagram"></i></a>
                            <a href="#"><i class="fab fa-linkedin"></i></a>
                            <a href="#"><i class="fas fa-rss"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">جميع الحقوق محفوظة © 2025 هيئة تقويم التعليم والتدريب</div>
        </div>
    </footer>

    <button class="support-btn"><i class="fas fa-chevron-down"></i> الدعم الفني</button>
    <button class="back-to-top" onclick="window.scrollTo({top:0,behavior:'smooth'})"><i class="fas fa-arrow-up"></i></button>

    <script>
        // Tabs switching
        const tabBtns = document.querySelectorAll('.tab-btn');
        const tabSections = document.querySelectorAll('.tab-section');
        tabBtns.forEach(btn => btn.addEventListener('click', ()=>{
            tabBtns.forEach(b=>b.classList.remove('active'));
            btn.classList.add('active');
            const id = btn.dataset.tab;
            tabSections.forEach(sec=>sec.style.display = (sec.id===id)?'block':'none');
        }));

        // Filter exams function
        function filterExams() {
            const subjectFilter = document.getElementById('examSubjectFilter').value;
            const difficultyFilter = document.getElementById('examDifficultyFilter').value;
            const durationFilter = document.getElementById('examDurationFilter').value;
            const statusFilter = document.getElementById('examStatusFilter').value;

            const cards = document.querySelectorAll('.card-test');

            cards.forEach(card => {
                const subject = card.getAttribute('data-subject');
                const difficulty = card.getAttribute('data-difficulty');
                const duration = card.getAttribute('data-duration');
                const status = card.getAttribute('data-status');

                let show = true;

                if (subjectFilter && subject !== subjectFilter) show = false;
                if (difficultyFilter && difficulty !== difficultyFilter) show = false;
                if (durationFilter && duration !== durationFilter) show = false;
                if (statusFilter && status !== statusFilter) show = false;

                card.style.display = show ? '' : 'none';
            });

            // Update results count
            const visibleCards = document.querySelectorAll('.card-test:not([style*="display: none"])');
            console.log(`تم عرض ${visibleCards.length} اختبار من أصل ${cards.length}`);
        }
    </script>
</body>
</html>
